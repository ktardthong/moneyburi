{"version":3,"sources":["ng_app.js","ng_factory.js","BillController.js","CreditCardController.js","GoalBuyingController.js","GoalCarController.js","GoalController.js","GoalTravelController.js","SpendableChartController.js","SpendingCategoriesChartController.js","TransactionsController.js","userController.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["var app = angular.module('App',['ngAnimate','ngRoute','ng-mfb','ngMaterial','chart.js','ngSanitize','gm',\r\n                                'ngMap','ngChartjsDirective','ngScrollbars']);\r\n\r\n//http://www.bennadel.com/blog/2935-enable-animations-explicitly-for-a-performance-boost-in-angularjs.htm?utm_content=buffer6cd7e&utm_medium=social&utm_source=facebook.com&utm_campaign=buffer\r\napp.config(\r\nfunction configureAnimate( $animateProvider ) {\r\n    $animateProvider.classNameFilter( /\\banimated\\b/ );\r\n});\r\n\r\napp.config(function($routeProvider){\r\n    $routeProvider\r\n        .when('/',{\r\n            templateUrl: '/welcome'\r\n        })\r\n        .when('/login',{\r\n            templateUrl: '/login'\r\n        })\r\n        .when('/register',{\r\n            templateUrl: '/register'\r\n        })\r\n        .when('/Bills',{\r\n            templateUrl: '/bill/billCard'\r\n        })\r\n        .when('/profile',{\r\n            templateUrl: '/spendableCard'\r\n        })\r\n        .when('/CreditCard',{\r\n            templateUrl: 'card/mainCard'\r\n        })\r\n        .when('/setup',{\r\n            templateUrl: '/init_setup'\r\n        })\r\n        .when('/Transactions',{\r\n            templateUrl: '/transCard'\r\n        })\r\n        .otherwise({\r\n            template: '<div> Nothing here </div>'\r\n        })\r\n})\r\n\r\n\r\n//Angular Theming\r\napp.config(function($mdThemingProvider) {\r\n    $mdThemingProvider.definePalette('amazingPaletteName', {\r\n        '50': 'ffebee',\r\n        '100': 'ffcdd2',\r\n        '200': 'ef9a9a',\r\n        '300': 'e57373',\r\n        '400': 'ef5350',\r\n        '500': '87D2DA',    //highlight, underline etc\r\n        '600': 'e53935',\r\n        '700': 'd32f2f',\r\n        '800': 'c62828',\r\n        '900': 'b71c1c',\r\n        'A100': 'ff8a80',\r\n        'A200': 'ff5252',\r\n        'A400': 'ff1744',\r\n        'A700': 'd50000',\r\n        'contrastDefaultColor': 'light',    // whether, by default, text (contrast)\r\n                                            // on this palette should be dark or light\r\n        'contrastDarkColors': ['50', '100', //hues which contrast should be 'dark' by default\r\n            '200', '300', '400', 'A100'],\r\n        'contrastLightColors': undefined    // could also specify this if default was 'dark'\r\n    });\r\n    $mdThemingProvider.theme('default')\r\n        .primaryPalette('amazingPaletteName')\r\n});\r\n\r\n\r\n\r\napp.controller('profileController', function($scope, $http,factory_userData,factory_userGoals,\r\n                                            factory_userBills,factory_utils,\r\n                                            factory_userCards,\r\n                                            factory_mfb,\r\n                                            factory_userSpending,\r\n                                            factory_transaction,\r\n                                            $rootScope,$route, $routeParams, $location) {\r\n\r\n    $scope.$route = $route;\r\n    $scope.$location = $location;\r\n    $scope.$routeParams = $routeParams;\r\n\r\n    $scope.loc = function(href) {\r\n        $location.path(href)\r\n    }\r\n\r\n    $http.defaults.withCredentials = true;\r\n    $scope.date = new Date();\r\n\r\n\r\n    factory_userData.userDataFactory().success(function(data){\r\n\r\n        $scope.userData=data;\r\n\r\n        $rootScope.rs_userData      = data;\r\n        $rootScope.rs_mthlyIncome   =   $scope.userData.mth_income;\r\n        $rootScope.rs_mthlySaving   =   $scope.userData.mth_saving;\r\n    });\r\n\r\n\r\n    factory_userData.userJobs().success(function(data){\r\n        $scope.userJobs=data;\r\n    });\r\n\r\n    factory_utils.getCurrency().success(function(data){\r\n        $scope.currencies=data;\r\n    });\r\n\r\n\r\n    factory_userGoals.userGoalsFactory().success(function(data){\r\n        $scope.userGoals=data;\r\n    });\r\n\r\n    factory_userGoals.carBrandsList().success(function(data){\r\n        $scope.carBrandsList = data;\r\n    });\r\n\r\n    factory_userBills.getBlls().success(function(data){\r\n        $rootScope.rs_userBills = data;\r\n    });\r\n\r\n    /*factory_userBills.upComing().success(function(data){\r\n        $scope.upComing = data;\r\n    });*/\r\n\r\n    factory_userBills.sumBills().success(function(data) {\r\n        $rootScope.rs_sumBills = data;\r\n    });\r\n\r\n    factory_userBills.billCate().success(function(response) {\r\n       $scope.billCate = response;\r\n    });\r\n\r\n    factory_userCards.getCards().success(function(data){\r\n        $rootScope.userCards = data;\r\n    });\r\n\r\n    factory_userCards.ccIssuer().success(function(data){\r\n        $scope.ccIssuer = data;\r\n    });\r\n    factory_userCards.ccTypes().success(function(data){\r\n        $scope.ccTypes = data;\r\n    });\r\n\r\n    factory_userCards.sumMonthlyTransaction().success(function(data){\r\n        $scope.sumAmountCC = data;\r\n    });\r\n\r\n\r\n    factory_transaction.userMonthlySpending().success(function(data){\r\n        $rootScope.monthlyRemain = data[0][\"mth_spendable\"] - data[0][\"monthSpending\"]; //total - spent\r\n        $rootScope.data_monthlhlySpent = data[0][\"monthSpending\"];\r\n        var json = {\r\n                    \"data\": [   data[0][\"monthSpending\"], data[0][\"mth_spendable\"] ],\r\n                    \"labels\":   [\"Spent\", \"Spendable\"],\r\n                    \"colours\":  [\"#8D8D8D\",\"#87D2DA\"],\r\n                    \"option\": {\r\n                                responsive: true,\r\n                                maintainAspectRatio: true,\r\n\r\n                                //Boolean - Whether we should show a stroke on each segment\r\n                                segmentShowStroke : true,\r\n\r\n                                //String - The colour of each segment stroke\r\n                                segmentStrokeColor : \"#fff\",\r\n\r\n                                //Number - The width of each segment stroke\r\n                                segmentStrokeWidth : 1,\r\n\r\n                                //Number - The percentage of the chart that we cut out of the middle\r\n                                percentageInnerCutout : 85, // This is 0 for Pie charts\r\n\r\n                                //Number - Amount of animation steps\r\n                                animationSteps : 10,\r\n\r\n                                //Boolean - Whether we animate the rotation of the Doughnut\r\n                                animateRotate : true\r\n                            }\r\n                    };\r\n        $rootScope.rs_userMonthlySpending = json;\r\n    });\r\n\r\n\r\n\r\n\r\n    $scope.float_buttons = factory_mfb.mfb();\r\n\r\n    factory_userSpending.dailySpending($scope);\r\n\r\n\r\n    $scope.nav = function(path) {\r\n\r\n        $scope.template.url = path;\r\n    };\r\n\r\n    $scope.templates =\r\n        [\r\n            { name: 'Spendable'         , url: '/spendableCard'},\r\n            { name: 'Goals'             , url: '/goal/card_goal'},\r\n            { name: 'Transactions'      , url: '/Transactions'},\r\n            { name: 'Bills'             , url: '/Bills'},\r\n            { name: 'Credit cards'      , url: '/CreditCard'},\r\n        ];\r\n\r\n\r\n\r\n    $scope.template = $scope.templates[0];\r\n\r\n    $scope.addTransaction = function() {\r\n        $scope.showAddTransaction = true;\r\n    };\r\n\r\n    $scope.backAddTransaction = function() {\r\n        $scope.showAddTransaction = false;\r\n    };\r\n\r\n    $scope.initUpdate = function()\r\n    {\r\n        $.ajax({\r\n            method: \"POST\",\r\n            url: \"/ajax/InitUpdate\",\r\n            data:  {\r\n                    job: $scope.userJobType,\r\n                    flg:   $('#jobtype').val()\r\n            }\r\n        })\r\n        .done(function( msg ) {\r\n            window.location.href = '/';\r\n        });\r\n    }\r\n\r\n    factory_transaction.pmtTypes().success(function(data) {\r\n        $rootScope.pmtTypes = data;\r\n    });\r\n    factory_userBills.billCate().success(function(data) {\r\n        $rootScope.cateCore = data;\r\n    });\r\n    factory_transaction.transTypes().success(function(data) {\r\n        $rootScope.transTypes = data;\r\n    });\r\n});\r\n\r\n\r\n\r\napp.controller('thisController', function($scope, $http, $filter,factory_userData) {\r\n    $scope.days     = [1,\t2,\t3,\t4,\t5,\t6,\t7,\t8,\t9,\t10,\t11,\t12,\t13,\t14,\t15,\t16,\t17,\t18,\t19,\t20,\t21,\t22,\t23,\t24,\t25,\t26,\t27,\t28,\t29,\t30,\t31];\r\n    $scope.months   = [{id: 1, month: \"Jan\"}, {id: 2,month: 'Feb'},{id: 3,month: 'Mar'},{id: 4,month: 'Apr'},{id: 5,month: 'May'}, {id: 6,month: 'Jun'},{id: 7,month: 'Jul'},{id: 8,month: 'Aug'},\r\n        {id: 9,month: 'Sept'},{id: 10,month: 'Oct'},{id: 11,month: 'Nov'},{id: 12,month: 'Dec'}];\r\n\r\n\r\n    factory_userData.userJobs().success(function(data){\r\n        $scope.items = data;\r\n    })\r\n\r\n\r\n    $scope.userAddData = function() {\r\n\r\n        $.ajax({\r\n            method: \"POST\",\r\n            url: \"/ajax/userName\",\r\n            data:  {    fname: $('#init_firstname').val() ,\r\n                lname: $('#init_lastname').val(),\r\n                job:   $('#jobtype').val()\r\n            }\r\n        })\r\n            .done(function( msg ) {\r\n                window.location.href = '/init_setup_2';\r\n            });\r\n    };\r\n\r\n\r\n    $scope.statusAddData = function() {\r\n\r\n        var bdate = $('#birthYear').val()+\"-\"+$('#birthMonth').val()+\"-\"+$('#birthDay').val();\r\n\r\n        $.ajax({\r\n            method: \"POST\",\r\n            url: \"/ajax/userStatus\",\r\n            data:  {    bdate:  bdate,\r\n                gender: gender_flg,\r\n                status: user_status\r\n            }\r\n        })\r\n            .done(function( msg ) {\r\n                window.location.href = '/init_setup_3';\r\n            });\r\n    };\r\n\r\n\r\n    var cardData = [];\r\n    var mthly_income ='';\r\n\r\n    $scope.cardAddData = function() {\r\n\r\n        if(cardData.length > 0)\r\n        {\r\n            cardData = JSON.parse(cardData);\r\n        }\r\n\r\n        $.ajax({\r\n            method: \"POST\",\r\n            url:    \"/ajax/userFinance\",\r\n            data:   {\r\n                mthlyInc:   $('#mthlyIncome').val(),\r\n                currency:   $('#currencySelect').val(),\r\n                cards:      cardData\r\n            }\r\n        })\r\n            .done(function( msg ) {\r\n                window.location.href = '/init_setup_4';\r\n            });\r\n    };\r\n\r\n\r\n    $scope.spendableAddData = function() {\r\n        $.ajax({\r\n            method: \"POST\",\r\n            url: \"/ajax/userPlan\",\r\n            data:  {    mth_saving:     $('#mthlySaving').html(),\r\n                mth_spending:   $('#mthlySpendable').html(),\r\n                dd_spending:    $('#dailySpendable').html(),\r\n                dd_saving:      $('#dailySaving').html()\r\n            }\r\n        })\r\n            .done(function( msg ) {\r\n                window.location.href = '/init_complete';\r\n            });\r\n    };\r\n\r\n\r\n    $http.get(\"/getAllTransactions\")\r\n        .success(function(response) {\r\n            $scope.transactions = response;\r\n            $scope.todaysTrans =  $filter('filter')($scope.transactions, {trans_date: $filter('date')(new Date(), 'yyyy-MM-dd')}, true);\r\n\r\n            $scope.spentToday = 0;\r\n            angular.forEach($scope.todaysTrans, function(value) {\r\n                $scope.spentToday += value.amount;\r\n            });\r\n\r\n            $scope.remainingToday = $scope.userData.d_spendable - $scope.spentToday;\r\n\r\n        }\r\n    );\r\n\r\n\r\n\r\n});\r\n\r\n\r\napp.directive('routeLoadingIndicator', function($rootScope) {\r\n    return {\r\n        restrict: 'E',\r\n        template: $rootScope.moneyquote,\r\n        replace: true,\r\n        link: function(scope, elem, attrs) {\r\n            scope.isRouteLoading = false;\r\n            scope.isLoaded = false;\r\n\r\n            $rootScope.$on('$routeChangeStart', function() {\r\n                scope.isRouteLoading = true;\r\n            });\r\n            $rootScope.$on('$routeChangeSuccess', function() {\r\n                scope.isRouteLoading = false;\r\n                scope.isLoaded = true\r\n            });\r\n        }\r\n\r\n  };\r\n});\r\n\r\n","/*\r\n* Angular Factory -\r\n* */\r\n\r\n\r\n\r\napp.factory('factory_userData', function($http) {\r\n    return {\r\n        userDataFactory: function(){\r\n            return $http.get(\"/ajax/userData\");\r\n        },\r\n        userJobs:function(){\r\n            return $http.get(\"/ajax/getUserJobs\");\r\n        }\r\n    }\r\n})\r\n\r\napp.factory('factory_userGoals', function($http) {\r\n    return {\r\n        userGoalsFactory: function () {\r\n            return $http.get(\"/ajax/userGoals\");\r\n        },\r\n        carBrandsList: function () {\r\n            return $http.get(\"/goal/getCarBrands\");\r\n        }\r\n    };\r\n});\r\n\r\napp.factory('factory_userBills', function($http) {\r\n\r\n    return {\r\n        getBlls: function () {\r\n            return $http.get(\"/bill/getBills\");\r\n        },\r\n        upComing: function (){\r\n            return $http.get(\"/bill/upComing\");\r\n        },\r\n        sumBills: function(){\r\n            return $http.get(\"/bill/sumBillAmount\");\r\n        },\r\n        billCate: function(){\r\n          return $http.get(\"/ajax/billCate\");\r\n        }\r\n    }\r\n});\r\n\r\napp.factory('factory_utils',function($http){\r\n    return {\r\n        getCurrency: function () {\r\n            return $http.get(\"/ajax/currency\");\r\n        },\r\n        upComing: function (){\r\n            return $http.get(\"/bill/upComing\");\r\n        }\r\n    }\r\n});\r\n\r\napp.factory('factory_transaction',function($http){\r\n    return {\r\n        userMonthlySpending:function(){\r\n            return $http.get(\"/userMonthlySpending\");\r\n        },\r\n        pmtTypes:function(){\r\n            return $http.get(\"/ajax/pmtTypes\");\r\n        },\r\n        transRepeat:function(){\r\n            return $http.get(\"/ajax/transRepeat\");\r\n        },\r\n        transTypes:function(){\r\n            return $http.get(\"/ajax/transTypes\");\r\n        },\r\n    }\r\n})\r\n\r\n\r\napp.factory('factory_userCards', function($http) {\r\n    return {\r\n        getCards: function (){\r\n            return $http.get(\"/card/getCards\");\r\n        },\r\n        ccIssuer: function(){\r\n            return $http.get(\"/ajax/ccIssuer\");\r\n        },\r\n        ccTypes: function(){\r\n            return $http.get(\"/ajax/ccTypes\");\r\n        },\r\n        sumMonthlyTransaction: function(){\r\n            return $http.get(\"/card/sumMonthTransaction\");\r\n        }\r\n    }\r\n});\r\n\r\napp.factory('factory_mfb',function($http){\r\n    return {\r\n            mfb: function (){\r\n\r\n                return [{\r\n                    label: 'Home',\r\n                    icon: 'ion-home',\r\n                    url: '/'\r\n                }, {\r\n                    label: 'Credit Card',\r\n                    icon: 'ion-card',\r\n                    url: '/CreditCard'\r\n                }, {\r\n                    label: 'Bills',\r\n                    icon: 'ion-ios-list-outline',\r\n                    url: '/Bills'\r\n                }, {\r\n                    label: 'Transactions',\r\n                    icon: 'ion-calculator',\r\n                    url: '/Transactions'\r\n                }];\r\n            }\r\n        }\r\n});\r\n\r\napp.factory('factory_userSpending',function($http){\r\n\r\n    return   {\r\n                spendableFlg: false\r\n            },\r\n            {\r\n                dailySpending: function($scope){\r\n                return  $http.get(\"/todaySpending\")\r\n                        .success(function(response) {\r\n                        var windowTodaySpending = typeof response[0][\"todaySpending\"] != 'undefined' ? response[0][\"todaySpending\"] : 0;\r\n                        $scope.d_spendable     = response[0][\"d_spendable\"];\r\n                        $scope.todaySpending   = windowTodaySpending;\r\n                        $scope.todaySpendable  = $scope.d_spendable - $scope.todaySpending;\r\n\r\n                        if($scope.todaySpendable<0){ $scope.todaySpendable =0}\r\n                        //Chart\r\n                        var json = {\r\n                            \"data\": [$scope.todaySpending, $scope.todaySpendable],\r\n                            \"labels\":   [\"Spent\", \"Spendable\"],\r\n                            \"colours\":  [\"#8D8D8D\",\"#87D2DA\"],\r\n                            \"option\": {\r\n                                responsive: true,\r\n                                maintainAspectRatio: true,\r\n\r\n                                //Boolean - Whether we should show a stroke on each segment\r\n                                segmentShowStroke : true,\r\n\r\n                                //String - The colour of each segment stroke\r\n                                segmentStrokeColor : \"#fff\",\r\n\r\n                                //Number - The width of each segment stroke\r\n                                segmentStrokeWidth : 2,\r\n\r\n                                //Number - The percentage of the chart that we cut out of the middle\r\n                                percentageInnerCutout : 80, // This is 0 for Pie charts\r\n\r\n                                //Number - Amount of animation steps\r\n                                animationSteps : 80,\r\n\r\n                                //Boolean - Whether we animate the rotation of the Doughnut\r\n                                animateRotate : true\r\n                            }\r\n\r\n\r\n\r\n                        };\r\n                        $scope.spendableDough = json;\r\n                    });\r\n            }\r\n   }\r\n});","app.controller('billController', function($scope, $http,$rootScope,factory_userBills,$route, $routeParams, $location) {\r\n\r\n\r\n    $scope.days     = [1,\t2,\t3,\t4,\t5,\t6,\t7,\t8,\t9,\t10,\t11,\t12,\t13,\t14,\t15,\t16,\t17,\t18,\t19,\t20,\t21,\t22,\t23,\t24,\t25,\t26,\t27,\t28,\t29,\t30,\t31];\r\n    $scope.displayAddNewBill = false;\r\n\r\n    $rootScope.ng_billAmount =0;\r\n    $rootScope.ng_billCate =1;\r\n    $rootScope.ng_billDue =1;\r\n\r\n    $rootScope.showBill     = false;\r\n    $rootScope.billOverview = true;\r\n\r\n    $scope.listBillStatus = $rootScope.rs_userBills;\r\n\r\n    $scope.bill_labels   = 0;\r\n    $scope.bill_data     = 0;\r\n\r\n\r\n\r\n    //Recal bill to be us in dough\r\n    $scope.billReCal = function(){\r\n\r\n        $scope.bill_labels   = null;\r\n        $scope.bill_data     = null;\r\n        factory_userBills.getBlls().success(function(data) {\r\n\r\n        var jsondata = data;\r\n        var bill_name=[];\r\n        var bill_amount=[];\r\n\r\n        for (var i = 0, l = jsondata.length; i < l; i++) {\r\n            bill_name[i]   = jsondata[i].name;\r\n            bill_amount[i] = jsondata[i].amount;\r\n        }\r\n\r\n        var billData = {\r\n            labels : bill_name,\r\n            value :   bill_amount\r\n\r\n        }\r\n\r\n        $scope.bill_labels   = bill_name;\r\n        $scope.bill_data     = bill_amount;\r\n\r\n        console.log($scope.bill_labels);\r\n        console.log($scope.bill_data);\r\n        });\r\n    }\r\n\r\n\r\n    $scope.billStatus = function($billlstatus)\r\n    {\r\n        if($billlstatus=='') {\r\n            $scope.listBillStatus = $rootScope.rs_userBills;\r\n        }\r\n        else {\r\n            $.ajax({\r\n                method: \"POST\",\r\n                url: \"/bill/billStatus\",\r\n                async: false,\r\n                cache: false,\r\n                data: {\r\n\r\n                    bill_status: $billlstatus\r\n                }\r\n            })\r\n            .done(function (msg) {\r\n                $scope.listBillStatus = JSON.parse(msg);\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    //Check if the value user enter is not negative\r\n    $scope.checkVal = function()\r\n    {\r\n        if($scope.ng_billAmount > 0)\r\n        {\r\n            var amt = $rootScope.rs_mthlyIncome - $rootScope.rs_mthlySaving - $scope.ng_billAmount;\r\n            if(amt > 0)\r\n            {\r\n                $scope.displayAddNewBill = true;\r\n            }\r\n            else\r\n            {\r\n                $scope.displayAddNewBill = false;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            $scope.displayAddNewBill = false;\r\n        }\r\n    }\r\n\r\n    //Add the bill\r\n    $scope.addBill = function() {\r\n\r\n        $.ajax({\r\n            method: \"POST\",\r\n            url: \"/ajax/addBills\",\r\n            data:  {\r\n\r\n                amount:     $scope.ng_billAmount,\r\n                cateId:     $scope.ng_billCate,\r\n                due_date:   $scope.ng_billDue\r\n            }\r\n        })\r\n        .done(function( msg ) {\r\n            factory_userBills.sumBills().success(function(data) {\r\n                $rootScope.rs_sumBills     =   data;\r\n                $rootScope.calPie();\r\n            });\r\n\r\n            factory_userBills.getBlls().success(function(data){\r\n                $rootScope.rs_userBills = data;\r\n                //$rootScope.billOverview = true;\r\n                $rootScope.showBill = false;\r\n            });\r\n\r\n                $scope.billReCal();\r\n        });\r\n        $('#userBillUpdate').effect(\"highlight\", {color:'#F6C13C'}, 3500);\r\n    };\r\n\r\n    //undoRemove bill\r\n    $scope.undoRemove = function(data){\r\n\r\n        $.ajax({\r\n            method: \"POST\",\r\n            url: \"/ajax/undoRemoveBills\",\r\n            data:  {\r\n                billId:     data\r\n            }\r\n        })\r\n        .done(function( msg ) {\r\n\r\n            factory_userBills.sumBills().success(function(data) {\r\n                $rootScope.rs_sumBills = data;\r\n            });\r\n\r\n            factory_userBills.getBlls().success(function(data){\r\n                $rootScope.rs_userBills = data;\r\n            });\r\n            $('#userBillUpdate').effect(\"highlight\", {color:'#F6C13C'}, 2000);\r\n\r\n        });\r\n    }\r\n\r\n    //Remove bill\r\n    $scope.removeBill = function(data){\r\n\r\n        $.ajax({\r\n            method: \"POST\",\r\n            url: \"/ajax/removeBills\",\r\n            data:  {\r\n                billId:     data\r\n            }\r\n        })\r\n        .done(function( msg ) {\r\n\r\n            factory_userBills.sumBills().success(function(data) {\r\n                $rootScope.rs_sumBills = data;\r\n            });\r\n\r\n            factory_userBills.getBlls().success(function(data){\r\n                $rootScope.rs_userBills = data;\r\n            });\r\n            $('#userBillUpdate').effect(\"highlight\", {color:'#F6C13C'}, 3500);\r\n            $scope.billReCal();\r\n        });\r\n    }\r\n\r\n    $scope.billReCal();\r\n})\r\n\r\n\r\n.directive('billView',function(){\r\n    return {\r\n        restrict: 'E',\r\n        templateUrl: '/bill/viewBills'\r\n    };\r\n})\r\n\r\n.directive('userBill', function() {\r\n    return {\r\n        restrict: 'E',\r\n        templateUrl: '/bill/userBill'\r\n    };\r\n})\r\n\r\n.directive('billList', function() {\r\n    return {\r\n        restrict: 'E',\r\n        templateUrl: '/bill/tpl_billList'\r\n    };\r\n})\r\n.directive('billCompactList',function(){\r\n    return {\r\n        restrict: 'E',\r\n        templateUrl: '/bill/billCompactList'\r\n    };\r\n})\r\n.directive('cardSelect',function(){\r\n    return {\r\n        restrict: 'E',\r\n        templateUrl: '/app/bills/tpl_cardSelect.html'\r\n    };\r\n});\r\n\r\n\r\n","app.controller('CardController', function($scope,$http,$mdDialog,factory_userCards) {\r\n\r\n    $scope.days     = [1,\t2,\t3,\t4,\t5,\t6,\t7,\t8,\t9,\t10,\t11,\t12,\t13,\t14,\t15,\t16,\t17,\t18,\t19,\t20,\t21,\t22,\t23,\t24,\t25,\t26,\t27,\t28,\t29,\t30,\t31];\r\n\r\n    $scope.cardItem = [];\r\n\r\n    //Remove card\r\n    $scope.removeCard = function(container_id){\r\n\r\n        $.ajax({\r\n            method: \"POST\",\r\n            url: \"/card/removeCard\",\r\n            data:  {\r\n                cardId: container_id\r\n            }\r\n        })\r\n\r\n        .done(function( msg ) {\r\n            factory_userCards.getCards().success(function(data){\r\n                $rootScope.userCards = data;\r\n            });\r\n        });\r\n    };\r\n\r\n    //Undo Remove card\r\n    $scope.undoRemoveCard = function(container_id){\r\n\r\n        $.ajax({\r\n            method: \"POST\",\r\n            url: \"/card/undoRemoveCard\",\r\n            data:  {\r\n                cardId: container_id\r\n            }\r\n        })\r\n\r\n        .done(function( msg ) {\r\n\r\n        });\r\n    };\r\n\r\n    $scope.addCard = function() {\r\n\r\n        $.ajax({\r\n            method: \"POST\",\r\n            url: \"/card/addCard\",\r\n            async:false,\r\n            data:  {\r\n\r\n                type:       $scope.ng_ccTypes,\r\n                issuer:     $scope.ng_ccIssuer,\r\n                cclimit:    $scope.ng_cardLimit,\r\n                ccnote:     $scope.ng_cardNote,\r\n                billDue:    $('#billDue').val(),\r\n                expMth:     $scope.expMonth,\r\n                expYear:    $scope.expYear,\r\n                lastFour:   $scope.lastFour\r\n            }\r\n        })\r\n\r\n        .done(function( msg ) {\r\n            $scope.cardListShow = true;\r\n            factory_userCards.getCards().success(function(data){\r\n                //$rootScope.userCards = data;\r\n            });\r\n        });\r\n\r\n        /*$http.get(\"/card/getCards\")\r\n            .success(function(response) {\r\n                $scope.userCards = response;\r\n        });*/\r\n    };\r\n\r\n    $scope.showAdvanced = function(ev,card) {\r\n\r\n        $scope.card_edit = card;\r\n        $mdDialog.show({\r\n            controller: DialogController,\r\n            templateUrl: '/app/creditcards/edit_card.tmpl.html',\r\n            parent: angular.element(document.body),\r\n            targetEvent: ev,\r\n            clickOutsideToClose: true,\r\n            scope: $scope\r\n        })\r\n        .then(function (answer) {\r\n            $scope.status = 'You said the information was \"' + answer + '\".';\r\n        }, function () {\r\n            $scope.status = 'You cancelled the dialog.';\r\n        })\r\n    };\r\n\r\n\r\n    function DialogController($scope, $mdDialog) {\r\n        //$scope.card_edit = card;\r\n\r\n        $scope.hide = function () {\r\n            $mdDialog.hide();\r\n        };\r\n        $scope.cancel = function () {\r\n            $mdDialog.cancel();\r\n        };\r\n        $scope.answer = function (answer) {\r\n            $mdDialog.hide(answer);\r\n            console.log(answer);\r\n        };\r\n    }\r\n})\r\n.directive('cardList', function() {\r\n    return {\r\n        restrict: 'E',\r\n        templateUrl: '/card/tpl_cardList'\r\n    };\r\n});\r\n","app.controller('goalTargetController', function($scope, $http) {\r\n\r\n\r\n    $scope.targetCal = {\r\n        targetPrice: 0,\r\n        targetNumPmt: 0,\r\n        targetInterest: 0,\r\n        targetWhere: ' '\r\n    };\r\n\r\n    $scope.lat = undefined;\r\n    $scope.lng = undefined;\r\n\r\n    /*\r\n     * Autocomplete location\r\n     * */\r\n    $scope.$on('gmPlacesAutocomplete::placeChanged', function () {\r\n        var location = $scope.targetWhereBuying.getPlace().geometry.location;\r\n        $scope.lat = location.lat();\r\n        $scope.lng = location.lng();\r\n        $scope.$apply();\r\n    });\r\n\r\n\r\n    $scope.goalCal = function(){\r\n\r\n        $scope.mthDiff = Math.round(Math.abs(moment().diff(moment([$scope.buying_years, $scope.buying_months, 1]), 'months', true)));\r\n        $scope.mthPmt = $scope.targetPrice/$scope.mthDiff;\r\n        $scope.travelLocation = $('#travelLocation').val();\r\n        $scope.goalSubmit = true;\r\n\r\n    }\r\n\r\n\r\n    //Submit goal\r\n    $scope.setGoalTarget = function () {\r\n\r\n        $scope.success = true;\r\n        $scope.showEdit = false;\r\n\r\n        $.ajax({\r\n            method: \"POST\",\r\n            url: \"/ajax/setGoalTarget\",\r\n            data: {\r\n                    targetName:     $scope.targetName,\r\n                    targetPrice:    $scope.targetPrice,\r\n                    targetNumPmt:   $scope.mthPmt,\r\n                    savingMth:      $scope.savingMonth,\r\n                    where:          $scope.targetWhere,\r\n                    lat:            $scope.lat,\r\n                    lng:            $scope.lng,\r\n                    periods:        $scope.mthDiff,\r\n                    monthSelect:    $scope.buying_months,\r\n                    yearSelect:     $scope.buying_years\r\n                }\r\n        })\r\n        .done(function (msg) {\r\n        });\r\n    }\r\n});\r\n\r\n\r\n/*\r\n * Directives for this control\r\n */\r\n\r\napp.directive('buyingYearDrop',function() {\r\n    var currentYear = new Date().getFullYear();\r\n    return {\r\n        link: function (scope, element, attrs) {\r\n            scope.years = [];\r\n            for (var i = +attrs.offset; i < +attrs.range + 1; i++) {\r\n                scope.years.push(currentYear + i);\r\n            }\r\n            scope.yearSelect = currentYear;\r\n        },\r\n        templateUrl: '/app/goal/buying/tpl_year.html'\r\n    }\r\n});\r\n\r\n\r\n\r\napp.directive('buyingMonthSelect', function () {\r\n    return {\r\n        restrict: 'E',\r\n        templateUrl: '/app/goal/buying/tpl_month.html'\r\n    };\r\n});\r\n\r\n\r\n\r\n","app.controller('goalAutoController', function($scope,$rootScope, $http) {\r\n\r\n    $scope.autoInit = {\r\n        autoPrice: 0,\r\n        autoDPmt: 0,\r\n        autoNumPmt: 0,\r\n        autoInterest: 0,\r\n        autoPmt: 0\r\n    };\r\n\r\n    $scope.carCal = function(){\r\n        $scope.spendableDay = $rootScope.rs_userData.d_spendable - (($scope.autoPrice/$scope.car_month)/30);\r\n    };\r\n\r\n    $scope.addCarGoal = function()\r\n    {\r\n        $.ajax({\r\n            method: \"POST\",\r\n            url: \"/ajax/setCarGoal\",\r\n            data: {\r\n                brand:          $scope.autoBrand,\r\n                price:          $scope.autoPrice,\r\n                duration:       $scope.car_month,\r\n                model:          $scope.autoModel,\r\n                savingMth:      $scope.autoPrice/$scope.car_month\r\n            }\r\n        })\r\n            .done(function (msg) {\r\n            });\r\n    }\r\n});","/*\r\n\r\n*/\r\napp.controller('goalHomeController', function($scope, $http) {\r\n    $scope.homeCal = {\r\n        //homePrice: 0,\r\n        //homeDPmt: 0,\r\n        //homeLoan: homePrice - homeDPmt,\r\n        //homeInterest: 0,\r\n        //homePmtDuration:0,\r\n        //homeMthPmt: 0\r\n    };\r\n});\r\n\r\n\r\n\r\n\r\napp.controller('goalController', function($scope,$rootScope,$http,factory_userGoals ) {\r\n\r\n    $scope.userGoals;\r\n\r\n    //Remove user goal\r\n    $scope.removeGoal = function(goal)\r\n    {\r\n        var adjustedSpendable = Number($rootScope.rs_userData.d_spendable) + Number(goal.mth_saving/30);\r\n\r\n        $rootScope.rs_userData.d_spendable = adjustedSpendable;\r\n\r\n        $.ajax({\r\n            method: \"POST\",\r\n            url: \"/ajax/removeGoal\",\r\n            data:  {\r\n                remove: 1,\r\n                goal: goal,\r\n                adjusted: adjustedSpendable\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    $scope.undoGoalRemove = function(goal)\r\n    {\r\n        var adjustedSpendable = Number($rootScope.rs_userData.d_spendable) - Number(goal.mth_saving/30);\r\n        $.ajax({\r\n            method: \"POST\",\r\n            url: \"/ajax/removeGoal\",\r\n            data:  {\r\n                remove: 0,\r\n                goal: goal,\r\n                adjusted: adjustedSpendable\r\n            }\r\n        });\r\n\r\n        $rootScope.rs_userData.d_spendable = adjustedSpendable;\r\n    }\r\n\r\n\r\n    //Get active goals\r\n    $scope.getActiveGoals = function()\r\n    {\r\n        factory_userGoals.userGoalsFactory().success(function(data){\r\n            $scope.userGoals=data;\r\n        });\r\n    };\r\n\r\n    //Get completed goal\r\n    $scope.getCompletedGoal = function()\r\n    {\r\n        $.ajax({\r\n            method: \"POST\",\r\n            url: \"/ajax/showCompletedGoal\",\r\n            async: false,\r\n            data:  {\r\n                active_goal_flg: 0\r\n            }\r\n        })\r\n        .done(function( msg ) {\r\n            $scope.userGoals=JSON.parse(msg);\r\n        });\r\n    };\r\n\r\n    $scope.momentFormat = function(date){\r\n        return moment(date).format(\"MMM DD, YYYY \");\r\n    };\r\n\r\n    $scope.momentMonth = function(created_at,duration){\r\n        return moment(created_at).add(duration, 'months').format(\" MMM DD, YYYY\");\r\n    };\r\n\r\n    $scope.goal_templates =\r\n        [\r\n            { name: 'Goal Summary',     url: '/goal/goal_summary'},\r\n            { name: 'General Goal',     url: '/goal/goal_buying'},\r\n            //{ name: 'Debts'     ,       url: '/app/html/card_goals/goal_debts.html'},\r\n            { name: 'Travel'   ,        url: '/goal/goal_travel'},\r\n            { name: 'Buy Home/Condo',   url: '/goal/goal_buyhome'},\r\n            { name: 'Buy Car',          url: '/goal/goal_buycar'}\r\n        ];\r\n    $scope.goal_template = $scope.goal_templates[0];\r\n\r\n});\r\n\r\n","app.controller('goalTravelController', function($scope, $rootScope, $log) {\r\n\r\n    $scope.lat = undefined;\r\n    $scope.lng = undefined;\r\n    $scope.travelLocation = '';\r\n\r\n    $scope.$on('gmPlacesAutocomplete::placeChanged', function(){\r\n        var location = $scope.travelLocation.getPlace().geometry.location;\r\n        $scope.lat = location.lat();\r\n        $scope.lng = location.lng();\r\n        $scope.$apply();\r\n    });\r\n\r\n    $scope.savingMonth = 0;\r\n\r\n\r\n    $scope.travelSavingCal = function() {\r\n\r\n        $scope.mthDiff = Math.round(Math.abs(moment().diff(moment([$scope.travel_years, $scope.travel_months, 1]), 'months', true)));\r\n        $scope.mthPmt = $scope.travelAmount/$scope.mthDiff;\r\n        $scope.travelLocation = $('#travelLocation').val();\r\n\r\n    }\r\n\r\n\r\n    $( \"#travelAmount\" ).keyup(function() {\r\n        $scope.travelSavingCal();\r\n    });\r\n\r\n    $( \"#monthSelect\" ).change(function() {\r\n        $scope.travelSavingCal();\r\n    });\r\n\r\n    $( \"#yearSelect\" ).change(function() {\r\n        console.log(\"test\");\r\n        $scope.travelSavingCal();\r\n    });\r\n\r\n    $scope.getGoalDropDown = function() {\r\n        console.log($scope.goal_template);\r\n    };\r\n\r\n    $scope.setGoalTravel = function() {\r\n\r\n        $scope.travelGoalForm = false;\r\n        $scope.addTravelGoal = true;\r\n\r\n        $.ajax({\r\n            method: \"POST\",\r\n            url: \"/ajax/setGoalTravel\",\r\n\r\n            data:  {    travelLocation: $('#travelLocation').val() ,\r\n                        travelAmount:   $('#travelAmount').val(),\r\n                        travelPax:      $('#travelPax').val(),\r\n                        travelNights:   $('#travelNights').val(),\r\n                        travelSavingMth:$scope.savingMonth,\r\n                        lat:            $scope.lat,\r\n                        lng:            $scope.lng,\r\n                        periods:        $scope.mthDiff,\r\n                        monthSelect:    $scope.travel_months,\r\n                        yearSelect:     $scope.travel_years\r\n            }\r\n        })\r\n        var adjustedSpendable = Number($rootScope.rs_userData.d_spendable) - Number($scope.savingMonth/30);\r\n        $rootScope.rs_userData.d_spendable = adjustedSpendable;\r\n    };\r\n});\r\n\r\n\r\n\r\n","//Spendable\r\nvar spendableDate  =[];\r\nvar spendableAmount=[];\r\nvar spendableRemain=[];\r\n\r\n\r\nvar weeklySpendable=[];\r\nvar weeklyDate=[];\r\nvar weeklyAmount=[];\r\nvar weeklyRemain=[];\r\n\r\napp.controller('spendableChartController', function($scope, $http,$window) {\r\n\r\n\r\n    $scope.showSpendableWeek = function(){\r\n        $http.get(\"/spendableTracker/get\")\r\n            .success(function (response) {\r\n                $window.weeklySpendable = response;\r\n\r\n                //Getting the date\r\n                for (i = 0; i < weeklySpendable.length; i++) {\r\n                    weeklyDate[i] = weeklySpendable[i].date;\r\n                }\r\n\r\n                for (i = 0; i < weeklySpendable.length; i++) {\r\n                    weeklyAmount[i] = weeklySpendable[i].spendable;\r\n                }\r\n\r\n                for (i = 0; i < weeklySpendable.length; i++) {\r\n                    weeklyRemain[i] = weeklySpendable[i].remain;\r\n                }\r\n            });\r\n        $scope.labels = weeklyDate;\r\n        $scope.data = [\r\n            weeklyAmount,\r\n            weeklyRemain\r\n        ];\r\n    };\r\n\r\n    $scope.showSpendableMonth = function(){\r\n\r\n        $http.get(\"/spendableTracker/getMonth\")\r\n            .success(function (response) {\r\n\r\n                $window.spendableData = response;\r\n\r\n                //Getting the date\r\n                for (i = 0; i < spendableData.length; i++) {\r\n                    spendableDate[i] = spendableData[i].date;\r\n                }\r\n\r\n                for (i = 0; i < spendableData.length; i++) {\r\n                    spendableAmount[i] = spendableData[i].spendable;\r\n                }\r\n\r\n                for (i = 0; i < spendableData.length; i++) {\r\n                    spendableRemain[i] = spendableData[i].remain;\r\n                }\r\n            });\r\n            $scope.labels = spendableDate;\r\n            $scope.data = [\r\n                spendableAmount,\r\n                spendableRemain\r\n            ];\r\n    };\r\n\r\n\r\n    $scope.showTodaySpending = function(){\r\n        $http.get(\"/todaySpending\")\r\n            .success(function(response) {\r\n                $scope.d_spendable     = response[0][\"d_spendable\"];\r\n                $scope.todaySpending   = response[0][\"todaySpending\"];\r\n                $scope.todaySpendable  = $scope.d_spendable - $scope.todaySpending;\r\n\r\n                if($scope.todaySpendable<0){ $scope.todaySpendable =0}\r\n\r\n                //Chart\r\n                var json = {\r\n                    \"data\": [  $scope.todaySpending, $scope.todaySpendable],\r\n                    \"labels\":   [\"Spent\", \"Spendable\"],\r\n                    \"colours\":  [\"#8D8D8D\",\"#87D2DA\"],\r\n                    \"option\": {\r\n                        responsive: true,\r\n                        maintainAspectRatio: true,\r\n\r\n                        //Boolean - Whether we should show a stroke on each segment\r\n                        segmentShowStroke : true,\r\n\r\n                        //String - The colour of each segment stroke\r\n                        segmentStrokeColor : \"#fff\",\r\n\r\n                        //Number - The width of each segment stroke\r\n                        segmentStrokeWidth : 2,\r\n\r\n                        //Number - The percentage of the chart that we cut out of the middle\r\n                        percentageInnerCutout : 80, // This is 0 for Pie charts\r\n\r\n                        //Number - Amount of animation steps\r\n                        animationSteps : 100,\r\n\r\n                        //Boolean - Whether we animate the rotation of the Doughnut\r\n                        animateRotate : true\r\n                    }\r\n\r\n\r\n\r\n                };\r\n                $scope.spendableDough = json;\r\n            });\r\n    };\r\n\r\n    //By default show the last 7 transaction\r\n    $scope.showSpendableWeek();\r\n    $scope.showTodaySpending();\r\n})\r\n.directive('spendableChart', function() {\r\n    return {\r\n        restrict: 'E',\r\n        templateUrl: '/spendableChart'\r\n    };\r\n})\r\n\r\n.directive('dailySpendableChart', function() {\r\n    return {\r\n        restrict: 'E',\r\n        templateUrl: '/dailySpendableDough'\r\n    };\r\n});\r\n","//Spendable\r\nvar spendableDate  =[];\r\nvar spendableAmount=[];\r\nvar spendableRemain=[];\r\n\r\n\r\nvar weeklySpendable=[];\r\nvar weeklyDate=[];\r\nvar weeklyAmount=[];\r\nvar weeklyRemain=[];\r\n\r\napp.controller('spendingCategoriesChartController', function($scope, $http,$window) {\r\n\r\n\r\n    $scope.showSpendableWeek = function(){\r\n        $http.get(\"/spendableTracker/get\")\r\n            .success(function (response) {\r\n                $window.weeklySpendable = response;\r\n\r\n                //Getting the date\r\n                for (i = 0; i < weeklySpendable.length; i++) {\r\n                    weeklyDate[i] = weeklySpendable[i].date;\r\n                }\r\n\r\n                for (i = 0; i < weeklySpendable.length; i++) {\r\n                    weeklyAmount[i] = weeklySpendable[i].spendable;\r\n                }\r\n\r\n                for (i = 0; i < weeklySpendable.length; i++) {\r\n                    weeklyRemain[i] = weeklySpendable[i].remain;\r\n                }\r\n            });\r\n        $scope.labels = weeklyDate;\r\n        $scope.data = [\r\n            weeklyAmount,\r\n            weeklyRemain\r\n        ];\r\n    };\r\n\r\n    $scope.showSpendableMonth = function(){\r\n\r\n        $http.get(\"/spendableTracker/getMonth\")\r\n            .success(function (response) {\r\n\r\n                $window.spendableData = response;\r\n\r\n                //Getting the date\r\n                for (i = 0; i < spendableData.length; i++) {\r\n                    spendableDate[i] = spendableData[i].date;\r\n                }\r\n\r\n                for (i = 0; i < spendableData.length; i++) {\r\n                    spendableAmount[i] = spendableData[i].spendable;\r\n                }\r\n\r\n                for (i = 0; i < spendableData.length; i++) {\r\n                    spendableRemain[i] = spendableData[i].remain;\r\n                }\r\n            });\r\n            $scope.labels = spendableDate;\r\n            $scope.data = [\r\n                spendableAmount,\r\n                spendableRemain\r\n            ];\r\n    };\r\n\r\n\r\n    //By default show the last 7 transaction\r\n    $scope.showSpendableWeek();\r\n\r\n    var randomScalingFactor = function(){\r\n        return Math.round(Math.random()*100);\r\n    };\r\n    //var barChartData = {\r\n    //    labels : [\"Food\",\"Shopping\",\"Groceries\",\"Health\",\"Utilities\",\"Entertainment\",\"Travel\"],\r\n    //    datasets : [\r\n    //        {\r\n    //            fillColor : \"rgba(220,220,220,0.5)\",\r\n    //            strokeColor : \"rgba(220,220,220,0.8)\",\r\n    //            highlightFill: \"rgba(220,220,220,0.75)\",\r\n    //            highlightStroke: \"rgba(220,220,220,1)\",\r\n    //            data : [randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor()]\r\n    //        },\r\n    //        {\r\n    //            fillColor : \"rgba(151,205,151,0.5)\",\r\n    //            strokeColor : \"rgba(151,205,151,0.8)\",\r\n    //            highlightFill : \"rgba(151,205,151,0.75)\",\r\n    //            highlightStroke : \"rgba(151,205,151,1)\",\r\n    //            data : [randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor()]\r\n    //        }\r\n    //    ]\r\n    //};\r\n    //\r\n    //\r\n    //var ctx = angular.element($('#barChart')).getContext('2d');\r\n    //    //document.getElementById(\"barChart\").getContext(\"2d\");\r\n    //var hBarChart = new Chart(ctx).HorizontalBar(barChartData, {\r\n    //        responsive: true,\r\n    //        barShowStroke: false\r\n    //    });\r\n    //\r\n\r\n    $scope.c_options = {\r\n        \"responsive\": true,\r\n        \"barShowStroke\": false,\r\n        \"scaleShowHorizontalLines\": false,\r\n        \"legendTemplate\" : \"<ul class=\\\"<%=name.toLowerCase()%>-legend\\\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\\\"background-color:<%=datasets[i].fillColor%>\\\"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>\"\r\n    };\r\n\r\n\r\n\r\n    $scope.chart = {\r\n        title: \"Chart\",\r\n        type: \"HorizontalBar\",\r\n        height: 200,\r\n        //\"width\": 600,\r\n        options: {\r\n            chart: {\r\n                events: {}\r\n                //responsive: true,\r\n                //barShowStroke: false,\r\n                //scaleShowHorizontalLines: false\r\n            },\r\n            responsive: true,\r\n            barShowStroke: false,\r\n            scaleShowHorizontalLines: false,\r\n            legendTemplate : \"<ul class=\\\"<%=name.toLowerCase()%>-legend\\\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\\\"background-color:<%=datasets[i].fillColor%>\\\"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>\"\r\n\r\n        },\r\n        data: {\r\n            labels: [\"Food\",\"Shopping\",\"Groceries\",\"Health\",\"Utilities\",\"Entertainment\",\"Travel\"],\r\n            datasets: [\r\n                {\r\n                    fillColor : \"rgba(220,220,220,0.5)\",\r\n                    strokeColor : \"rgba(220,220,220,0)\",\r\n                    highlightFill: \"rgba(220,220,220,0.75)\",\r\n                    highlightStroke: \"rgba(220,220,220,0)\",\r\n                    data : [randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor()]\r\n                },\r\n                {\r\n                    fillColor : \"rgba(151,205,151,0.5)\",\r\n                    strokeColor : \"rgba(151,205,151,0)\",\r\n                    highlightFill : \"rgba(151,205,151,0.75)\",\r\n                    highlightStroke : \"rgba(151,205,151,0)\",\r\n                    data : [randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor()]\r\n                }\r\n            ]\r\n        }\r\n    }\r\n\r\n})\r\n.directive('spendingCategoriesChart', function() {\r\n    return {\r\n        restrict: 'E',\r\n        templateUrl: '/spendingCateChart'\r\n    };\r\n});\r\n","/**\r\n * Created by cholathit on 10/15/15.\r\n */\r\n\r\napp.controller('transactionController', function($scope, $http, $filter, $rootScope, factory_transaction, factory_userBills, factory_utils, $route, $routeParams, $location) {\r\n    //$scope.pageClass = 'show-transaction';\r\n\r\n    $scope.cateCore = $rootScope.cateCore;\r\n    //$http.get(\"/ajax/billCate\")\r\n    //    .success(function(response) {\r\n    //        $scope.cateCore = response;\r\n    //    });\r\n\r\n    $scope.transRepeat = $rootScope.transRepeat;\r\n            //$http.get(\"/ajax/transRepeat\")\r\n    //    .success(function(response) {\r\n    //        $scope.transRepeat = response;\r\n    //    });\r\n\r\n    $scope.pmtTypes = $rootScope.pmtTypes;\r\n    //factory_transaction.pmtTypes().success(function(data) {\r\n    //        $scope.pmtTypes = data;\r\n    //        //console.log(data);\r\n    //    });\r\n\r\n    $scope.transTypes =  $rootScope.transTypes;\r\n    //$http.get(\"/ajax/transTypes\")\r\n    //    .success(function(response) {\r\n    //        $scope.transTypes = response;\r\n    //    });\r\n\r\n    $scope.creditCards = $rootScope.userCards;\r\n    //$http.get(\"/card/getCards\")\r\n    //    .success(function(response) {\r\n    //        $scope.creditCards = response;\r\n    //    });\r\n\r\n    $scope.bills = $rootScope.rs_userBills;\r\n    //$http.get(\"/bill/getBills\")\r\n    //    .success(function(response) {\r\n    //        $scope.bills = response;\r\n    //    });\r\n\r\n    /*$http.get(\"/ajax/userData\")\r\n        .success(function(response) {\r\n            $scope.userData = response;\r\n        });*/\r\n\r\n    factory_utils.getCurrency().success(function(data){\r\n        $scope.currencies=data;\r\n    });\r\n\r\n    $scope.listData = [];\r\n\r\n    $scope.listDataPopulate = function (data){\r\n        angular.forEach(data, function(value){\r\n            //$scope.count++;\r\n            var obj = {\r\n                cate_id:          value.cate_id,\r\n                cate_obj:         $filter('filter')($scope.cateCore, {id: value.cate_id}, true),\r\n                trans_type:       value.trans_type,\r\n                trans_type_obj:   $filter('filter')($scope.transTypes, {id: value.trans_type}, true),\r\n                trans_repeat:     value.trans_repeat,\r\n                trans_repeat_obj:    $filter('filter')($scope.transRepeat, {id: value.trans_repeat}, true),\r\n                pmt_type:         value.pmt_type,\r\n                pmt_type_obj:     $filter('filter')($scope.pmtTypes, {id: value.pmt_type}, true),\r\n                amount:           value.amount,\r\n                //location:         value.location,\r\n                note:             value.note,\r\n                trans_date:       value.trans_date,\r\n                created_at:       value.created_at,\r\n                currency:         $filter('filter')($scope.currencies, {id: $scope.userData.currency}, true),\r\n                //location:         value.location,\r\n                //cityName:         value.cityName,\r\n                //countryCode:      value.countryCode,\r\n                //postalCode:       value.postalCode,\r\n                //lat:              value.lat,\r\n                //lng:              value.lng,\r\n                location_provider:value.location_provider,\r\n                location_id:      value.location\r\n            };\r\n            $scope.listData.push(obj);\r\n        });\r\n    };\r\n\r\n    $scope.defaultPmtType = 1;\r\n    $scope.defaultTransType = 1;\r\n\r\n    $scope.selectedPmtType = $scope.defaultPmtType;\r\n    $scope.selectedTransType = $scope.defaultTransType;\r\n\r\n    $scope.pmtSelected = function(id){\r\n        $scope.selectedPmtType = id;\r\n    };\r\n\r\n    $scope.transSelected = function(id){\r\n        $scope.selectedTransType = id;\r\n    };\r\n\r\n    $scope.trans_date = new Date();\r\n    $scope.selectedCC = 0;\r\n    $scope.selectedBill = 0;\r\n    $scope.selectedCate = 0;\r\n\r\n    $scope.doAdd = function() {\r\n        var obj = {\r\n            cate_id:        $scope.cate_id,    //$('#cate_id').val(),\r\n            trans_type:     $scope.selectedTransType, //$('#trans_type').val(),\r\n            //trans_repeat:   $scope.trans_repeat.id,    //$('#trans_repeat').val(),\r\n            pmt_type:       $scope.selectedPmtType, //$('#pmt_type').val(),\r\n            cc_id:          $scope.selectedCC,\r\n            bill_id:        $scope.selectedBill,\r\n            amount:         $scope.amount,\r\n            //location:       $scope.location,\r\n            note:           $scope.note,\r\n            trans_date:     $filter('date')($scope.trans_date, 'yyyy-MM-dd'),\r\n            //cityName:       $scope.cityName,\r\n            //postalCode:     $scope.postalCode,\r\n            //countryCode:    $scope.countryCode,\r\n            //lat:            $scope.lat,\r\n            //lng:            $scope.lng,\r\n            location_provider: $scope.location_provider,\r\n            location:       $scope.location_id\r\n\r\n    };\r\n        $.ajax({\r\n            method: \"POST\",\r\n            url: \"/add_transaction\",\r\n            data:  obj\r\n        })\r\n            .done(function( msg ) {\r\n                //alert('save!');\r\n                //$scope.listData.push(obj);\r\n                //window.location.href = '/profile';\r\n                $http.get(\"/getAllTransactions\")\r\n                    .success(function(response) {\r\n                        $scope.listDataPopulate(response);\r\n                    }\r\n                );\r\n\r\n            });\r\n    };\r\n\r\n    $http.get(\"/getAllTransactions\")\r\n        .success(function(response) {\r\n            $scope.listDataPopulate(response);\r\n        }\r\n    );\r\n\r\n    $scope.getCateIcon = function(cateId){\r\n        var iconSet = [\r\n            {id: 1,     name: \"Transport\",          fa: \"fa fa-bus\"},\r\n            {id: 2,     name: \"Food\",               fa: \"fa fa-cutlery\"},\r\n            {id: 3,     name: \"Shopping\",           fa: \"fa fa-tag\"},\r\n            {id: 4,     name: \"Groceries\",          fa: \"fa fa-shopping-cart\"},\r\n            {id: 5,     name: \"Entertainment\",      fa: \"fa fa-film\"},\r\n            {id: 6,     name: \"Travel\",             fa: \"fa fa-plane\"},\r\n            {id: 7,     name: \"Health\",             fa: \"fa fa-heartbeat\"},\r\n            {id: 8,     name: \"Beauty\",             fa: \"fa fa-diamond\"},\r\n            {id: 9,     name: \"Utility - Electric\", fa: \"fa fa-bolt\"},\r\n            {id: 10,    name: \"Utility - Internet\", fa: \"fa fa-wifi\"},\r\n            {id: 11,    name: \"Utility - Phone\",    fa: \"fa fa-phone\"},\r\n            {id: 12,    name: \"Utility - Water\",    fa: \"fa fa-tint\"}\r\n        ];\r\n        var selectedIcon = $filter('filter')(iconSet, {id: cateId}, true);\r\n        return selectedIcon[0].fa;\r\n    };\r\n\r\n\r\n    $scope.getPmtIcon = function(pmtId){\r\n        var iconSet = [\r\n            {id: 1,     name: \"Cash\",          fa: \"fa fa-money\"},\r\n            {id: 2,     name: \"Credit Card\",   fa: \"fa fa-credit-card\"}\r\n        ];\r\n        var selectedIcon = $filter('filter')(iconSet, {id: pmtId}, true);\r\n        return selectedIcon[0].fa;\r\n    };\r\n\r\n    $scope.getTransTypeIcon = function(transTypeId){\r\n        var iconSet = [\r\n            {id: 1,     name: \"Expense\",  fa: \"fa fa-minus-square\"},\r\n            {id: 2,     name: \"Income\",   fa: \"fa fa-plus-square\"},\r\n            {id: 3,     name: \"Bill\",     fa: \"fa fa-minus-square\"}\r\n        ];\r\n        var selectedIcon = $filter('filter')(iconSet, {id: transTypeId}, true);\r\n        return selectedIcon[0].fa;\r\n    };\r\n\r\n    $scope.propertyIcons = function(name){\r\n        var iconSet = [\r\n            {name: \"location\",  fa: \"fa fa-map-marker\"},\r\n            {name: \"note\",  fa: \"fa fa-comment\"},\r\n            {name: \"datetime\",  fa: \"fa fa-clock\"}\r\n        ];\r\n        var selectedIcon = $filter('filter')(iconSet, {name: name}, true);\r\n        return selectedIcon[0].fa;\r\n    };\r\n\r\n    $scope.cateColor = function(cateId){\r\n        var colors = [\r\n            {id: 1,     name: \"Transport\",          color: {name: \"Pastel Green\", code: \"#77DD77\"}},\r\n            {id: 2,     name: \"Food\",               color: {name: \"Medium Spring Bud\", code: \"#C9DC87\"}},\r\n            {id: 3,     name: \"Shopping\",           color: {name: \"Pastel Yellow\", code: \"#FDFD96\"}},\r\n            {id: 4,     name: \"Groceries\",          color: {name: \"Pastel Brown\", code: \"#836953\"}},\r\n            {id: 5,     name: \"Entertainment\",      color: {name: \"Dark Pastel Blue\", code: \"#779ECB\"}},\r\n            {id: 6,     name: \"Travel\",             color: {name: \"Yankees Blue\", code: \"#1C2841\"}},\r\n            {id: 7,     name: \"Health\",             color: {name: \"Medium Ruby\", code: \"#AA4069\"}},\r\n            {id: 8,     name: \"Beauty\",             color: {name: \"Light Pastel Purple\", code: \"#B19CD9\"}},\r\n            {id: 9,     name: \"Utility - Electric\", color: {name: \"Pastel Gray\", code: \"#CFCFC4\"}},\r\n            {id: 10,    name: \"Utility - Internet\", color: {name: \"Pastel Blue\", code: \"#AEC6CF\"}},\r\n            {id: 11,    name: \"Utility - Phone\",    color: {name: \"Medium Turquoise\", code: \"#48D1CC\"}},\r\n            {id: 12,    name: \"Utility - Water\",    color: {name: \"Rackley\", code: \"#5D8AA8\"}}\r\n        ];\r\n        var selectedIcon = $filter('filter')(colors, {id: cateId}, true);\r\n        return selectedIcon[0].color.code;\r\n    };\r\n\r\n    $scope.location_id = null;\r\n    $scope.location_provider = null;\r\n\r\n\r\n    $scope.$on('gmPlacesAutocomplete::placeChanged', function(){\r\n\r\n        $scope.location_id = $scope.location.getPlace().id;\r\n        $scope.location_provider = 'Google';\r\n        $scope.$apply();\r\n    });\r\n\r\n    //$scope.scrollHeight = 200; //default\r\n\r\n    $scope.scroll_config = {\r\n        autoHideScrollbar: false,\r\n        theme: 'rounded-dark',\r\n        advanced:{\r\n            updateOnContentResize: true\r\n        },\r\n        setHeight: 200,\r\n        setWidth: '100%',\r\n        //setLeft: '-20%',\r\n        scrollInertia: 0,\r\n        alwaysShowScrollbar: 0,\r\n        axis: 'y',\r\n        mouseWheel:{ enable: true },\r\n        keyboard:{ enable: true },\r\n        contentTouchScroll: 25,\r\n        scrollButtons:{ enable: false }\r\n\r\n    };\r\n\r\n})\r\n\r\n.directive('transList', function() {\r\n        return {\r\n            restrict: 'E',\r\n            templateUrl: '/transList'\r\n        };\r\n})\r\n\r\n.directive('addTrans', function() {\r\n        return {\r\n            restrict: 'E',\r\n            templateUrl: '/addTrans',\r\n            scope: false\r\n        };\r\n})\r\n\r\n.directive('addBillTrans', function() {\r\n    return {\r\n        restrict: 'AEC',\r\n        templateUrl: '/addTrans',\r\n        scope: {\r\n            bill: '='\r\n        },\r\n        link: function($scope, element, attrs, controller, transcludeFn) {\r\n\r\n        },\r\n        controller: function($scope,factory_transaction,$rootScope,factory_utils){\r\n            console.log($scope.bill);\r\n            $scope.cateCore = $rootScope.cateCore;\r\n            $scope.pmtTypes = $rootScope.pmtTypes;\r\n            $scope.transTypes =  $rootScope.transTypes;\r\n            $scope.creditCards = $rootScope.userCards;\r\n            $scope.bills = $rootScope.rs_userBills;\r\n\r\n            factory_utils.getCurrency().success(function(data){\r\n                $scope.currencies=data;\r\n            });\r\n\r\n            $scope.amount = parseFloat($scope.bill.amount);\r\n\r\n            $scope.pmtSelected = function(id){\r\n                $scope.selectedPmtType = id;\r\n            };\r\n\r\n            $scope.transSelected = function(id){\r\n                $scope.selectedTransType = id;\r\n            };\r\n\r\n            $scope.defaultPmtType = 1;\r\n            $scope.defaultTransType = 3;\r\n\r\n            $scope.trans_date = new Date();\r\n            $scope.selectedCC = 0;\r\n            $scope.selectedBill = $scope.bill.id;\r\n            $scope.selectedCate = $scope.bill.cateId;\r\n        }\r\n\r\n    };\r\n})\r\n\r\n.directive('transRecent', function() {\r\n        return {\r\n            restrict: 'E',\r\n            templateUrl: '/transRecent'\r\n        };\r\n})\r\n\r\n.directive('monthlySpendableChart', function() {\r\n    return {\r\n        restrict: 'E',\r\n        templateUrl: '/monthlySpendableChart'\r\n    };\r\n});","app.controller('userController', function($scope,factory_userSpending,$rootScope) {\r\n\r\n\r\n    if($scope.userData.mth_income != 0) {\r\n        $rootScope.rs_mthlyIncome = $scope.userData.mth_income;\r\n    }\r\n    else{\r\n        $rootScope.rs_mthlyIncome = $scope.rs_mthlyIncome;\r\n    }\r\n\r\n    $rootScope.rs_mthlySaving  =   $scope.userData.mth_saving;\r\n\r\n    $scope.ng_spendable =   $rootScope.rs_mthlyIncome - $rootScope.rs_sumBills - $rootScope.rs_mthlySaving - $rootScope.rs_userData.goal_saving;\r\n\r\n    $scope.currency     =   $scope.userData.currency;\r\n\r\n    $scope.ng_userfname    =    $scope.userData.firstname;\r\n    $scope.ng_userlname    =    $scope.userData.lastname;\r\n    $scope.ng_email        =    $scope.userData.email;\r\n\r\n\r\n    $scope.labels = [\"Bill\", \"Saving\", \"Spendable\",\"Goal Saving\"];\r\n    $scope.colours=  [\"#8D8D8D\",\"#87D2DA\",\"#1594A8\",\"#C7E8EA\"];\r\n    $scope.data = [ $rootScope.rs_sumBills, $rootScope.rs_mthlySaving,$scope.ng_spendable,$rootScope.rs_userData.goal_saving];\r\n\r\n\r\n    //Delay the highlight on keyup\r\n    var typewatch = function(){\r\n        var timer = 0;\r\n        return function(callback, ms){\r\n            clearTimeout (timer);\r\n            timer = setTimeout(callback, ms);\r\n        }\r\n    }();\r\n\r\n\r\n    $rootScope.calPie = function(){\r\n        $scope.ng_spendable =   $rootScope.rs_mthlyIncome - $rootScope.rs_sumBills - $rootScope.rs_mthlySaving - $rootScope.rs_userData.goal_saving;\r\n\r\n        $scope.labels = [\"Bill\", \"Saving\", \"Spendable\",\"Goal Saving\"];\r\n        $scope.data = [ $rootScope.rs_sumBills, $rootScope.rs_mthlySaving,$scope.ng_spendable,$rootScope.rs_userData.goal_saving];\r\n\r\n        $rootScope.rs_mthlyIncome = $scope.rs_mthlyIncome;\r\n\r\n        typewatch(function()\r\n        {\r\n        $('#editMonthlySpendable').effect(\"highlight\", {color:'#F6C13C'}, 1500);\r\n        $('#editDaySpendable').effect(\"highlight\", {color:'#F6C13C'}, 1500);\r\n        $('#editDaySaving').effect(\"highlight\", {color:'#F6C13C'}, 1500);\r\n        }, 1200 );\r\n    };\r\n\r\n    $scope.saveUserData = function(){\r\n        $.ajax({\r\n            method: \"POST\",\r\n            url: \"/ajax/updateUserData\",\r\n            data:  {\r\n                firstname:      $scope.ng_userfname ,\r\n                lastname:       $scope.ng_userlname ,\r\n                email:          $scope.ng_email,\r\n                job:            $scope.userJobType\r\n            }\r\n        })\r\n        .done(function( msg ) {\r\n\r\n            $(\"#userdata_alert_message\").show();\r\n\r\n            window.setTimeout(function() {\r\n                $(\"#userdata_alert_message\" +\r\n                \"\").fadeTo(500, 0).slideUp(500, function(){\r\n                    $(this).remove();\r\n                });\r\n            }, 3000);\r\n        });\r\n    }\r\n\r\n    $scope.saveInfo = function (){\r\n        $scope.ng_spendable = $scope.rs_mthlyIncome - $scope.rs_sumBills - $scope.rs_mthlySaving;\r\n        $.ajax({\r\n            method: \"POST\",\r\n            url: \"/ajax/updateUserInfo\",\r\n            data:  {\r\n                editMonthlyIncome:      $scope.rs_mthlyIncome,\r\n                editMonthlyBill:        $scope.rs_sumBills,\r\n                editMonthlySaving:      $scope.rs_mthlySaving,\r\n                editMonthlySpendable:   $scope.ng_spendable,\r\n                editDaySaving:          $scope.rs_mthlySaving/30,\r\n                editDaySpendable:       $scope.ng_spendable/30,\r\n                currency:               $scope.ng_currency\r\n            }\r\n        })\r\n            .done(function( msg ) {\r\n                $(\"#alert_message\").show();\r\n\r\n                window.setTimeout(function() {\r\n                    $(\"#alert_message\").fadeTo(500, 0).slideUp(500, function(){\r\n                        $(this).remove();\r\n                    });\r\n                }, 3000);\r\n            });\r\n    }\r\n});\r\n\r\n"],"sourceRoot":"/source/"}